---
title: git学习笔记（一）——初识git
tags: [git,tools]
categories: [Tools]
date: 2016-12-08 17:09:43
---

前言
---

>最好的教程来自于官方文档

本文的所有内容来自于对于官方文档的学习，消化和记录。当你读着感到困惑的时候，访问官方的文档说不定能够解决你的疑问。传送门：[Git 官方文档中文版](https://git-scm.com/book/zh/v2)
如果你还有兴趣阅读本文，那么我的笔记将向你展现一些非常基础的操作与命令，帮助你快速的掌握一些常用命令。
<!--more-->

git 简述
===

关于 git
---

>版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。使用版本控制系统通常还意味着，就算你乱来一气把整个项目中的文件改的改删的删，你也照样可以轻松恢复到原先的样子。 但额外增加的工作量却微乎其微。
>**git-book**——[关于版本控制](https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6)

Git 系统由 Linux 开源社区基于使用 BitKcherper 时（[恩怨情仇](https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-Git-%E7%AE%80%E5%8F%B2)）的经验教训自由开发而来设计之初就制定了强悍的性能目标：
	* 速度
	* 简单的设计
	* 对非线性开发模式的强力支持（允许成千上万个并行开发的分之）
	* 完全分布式
	* 有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）
自2005年诞生以来，经过多年的开发迭代，当初设定的目标依然得以高效支持，速度飞快，及其适合管理大项目，有着难以置信的非线性分之管理系统。

git 工作原理
---

>直接记录快照，而非差异比较

这是 git 和其他版本控制系统的主要差别：对待数据的方法。以概念来区分，其它大部分系统以文件变更列表的方式存储信息。 Git 不按照这样的方式保存数据。Git 更像是把数据看作是对小型文件系统的一组快照。每次你提交更新，或者在 git 中暂存项目状态时，它主要对当时的**全部**（敲黑板，重点）文件制作一个快照并保存这个快照的索引。为了高效，如果文件没有修改，Git 不再重新存储该文件，而是保留一个链接指向之前存储的文件。Git 对待数据更像是一个**快照流**。

>近乎所有的操作都是本地执行

Git 中的绝大多数操作都只需要访问本地文件和资源，一般不需要来自网络上其他计算机的信息。Git 会将一个项目完整的操作历史全部保存下来，使你的大部分操作能够在本地瞬间完成。Git 在`clone`时会将所有的操作历史以及文件状态保存在`.git`文件夹下面。例如，你需要浏览项目的历史，Git 也不需要连接服务器获取历史，取而代之的是本地数据库，还能够通过历史信息查询对比一个月以前修改的差异。

>Git 保证完整性

Git 中所有数据在存储前都计算[检验和](http://baike.baidu.com/link?url=-a-E_ieF7ygGjKvjrsP3uO2D-9lROhqTGFOaHwDTfyve5zpJUqTfvJwnmYR7MD-QcRe6gpZeWuUXPBD0Y3SK7gJI69CkSdJ9GP83g4_32ZXEiG4e_lMTugX0iKyf473f)，然后以检验和来引用。这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。这个功能构建在 Git 底层，是构成 Git 哲学不可或缺的部分。若你在传送过程中丢失信息或损坏文件，Git 就能发现。
Git 用以计算检验和的机制叫做 [SHA-1散列](x3dApUyA1PPqBFNxQCjz17RFPBzcy0Q7IzAxwNLM31IDEgrKaak_k1EcduxWQ9PnUHJPJZupnuErri6vFyq7ja)。这是一个由40个十六进制字符组成的字符串，基于 Git 中文件的内容或目录结构计算出来。Git 数据库中保存的信息都是以文件的哈希值来索引，而不是文件名。

git 三种状态
---
Git 的三种状态，是后续学习的重要基础。Git 文件有可能处于以前三种状态之一：
	* 已提交（committed），数据已经安全的保存在本地数据库
	* 已修改（modified），已经修改文件，但还没有保存到数据库中
	* 已暂存（staged），对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中
由此引入 Git 项目的三个工作区域的概念：Git 仓库、工作目录已经暂存区域。
![图1. 工作目录、暂存区域以及 Git 仓库](/images/git/areas.png)

Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。这是 Git 中最重要的部分，从其他计算机克隆仓库时，拷贝的就是这里的数据。

工作目录是对项目的某个版本独立提取出来的内容。这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。

暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。有时候也被称作“索引”，不过一般说法还是叫暂存区域。

基本的 Git 工作流程如下：
1. 在工作目录中修改文件。
2. 暂存文件，将文件的快照放入暂存区域。
3. 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库目录。

git 配置
===

git 配置信息
---
使用`git config --list`命令列出所有 Git 当前能找到的配置。

```git
$ git config  --list
core.symlinks=false
core.autocrlf=true
core.fscache=true
color.diff=auto
color.status=auto
color.branch=auto
color.interactive=true
...
```

也可以使用`git config <key>`来检查某一项配置。
```git
$ git config color.diff
auto
```

设置 git 
---
安装完 Git 之后的第一件事就是设置你的用户名称和邮箱地址。这很重要，因为每一个 Git 的提交都会使用这些信息，并写入每一次的提交中，不可更改：
```git
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
```
如果使用了`--global`选项，那么该命令只需要运行一次，只有无论你在该系统上做任何事情， Git 都会使用那些信息。 当你想针对特定项目使用不同的用户名称与邮件地址时，可以在那个项目目录下运行没有 `--global` 选项的命令来配置。
